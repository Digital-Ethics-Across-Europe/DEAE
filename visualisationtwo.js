const allYears = {
    "2016": {
      "AM": { info: "Armenia", numIncidents: 13 },
      "AT": { info: "Austria", },
      "BE": { info: "Belgium", numIncidents: 1 },
      "BA": { info: "Bosnia and Herzegovina", numIncidents: 7 },
      "HR": { info: "Croatia", numIncidents: 1 },
      "CZ": { info: "Czech Republic", },
      "FI": { info: "Finland", },
      "DE": { info: "Germany", numIncidents: 35 },
      "DK": { info: "Denmark",},
      "GR": { info: "Greece", numIncidents: 11 },
      "HU": { info: "Hungary", numIncidents: 2 },
      "IT": { info: "Italy", numIncidents: 4 },
      "LT": { info: "Lithuania", numIncidents: 2 },
      "MT": { info: "Malta", },
      "MD": { info: "Moldova", numIncidents: 16 },
      "NL": { info: "Netherlands", numIncidents: 10 },
      "MK": { info: "North Macedonia", },
      "PL": { info: "Poland", numIncidents: 25 },
      "PT": { info: "Portugal", },
      "RO": { info: "Romania", },
      "RS": { info: "Serbia", numIncidents: 6 },
      "ES": { info: "Spain", numIncidents: 25 },
      "SE": { info: "Sweden", numIncidents: 15 },
      "TR": { info: "Turkey", numIncidents: 75 },
      "UA": { info: "Ukraine", numIncidents: 67 },
      "GB": { info: "United Kingdom", numIncidents: 17 },
      "CY": { info: "Cyprus", numIncidents: 1 },
      "FR": { info: "France", numIncidents: 26 },
      "IE": { info: "Ireland", numIncidents: 1 },
      "ME": { info: "Montenegro", numIncidents: 3 },
      "NO": { info: "Norway", numIncidents: 1 },
      "CH": { info: "Switzerland", numIncidents: 1 },
      "BY": { info: "Belarus", },
      "IS": { info: "Iceland", },
      "AL": { info: "Albania", },
      "BG": { info: "Bulgaria", },
      "SI": { info: "Slovenia", },
      "EE": { info: "Estonia", },
      "LV": { info: "Latvia", },
      "XK": { info: "Kosovo",},
      "LI": { info: "Liechtenstein", },
      "SK": { info: "Slovakia", }
    },
    "2017": {
      "AM": { info: "Armenia", numIncidents: 13 },
      "AT": { info: "Austria", numIncidents: 1 },
      "BE": { info: "Belgium", numIncidents: 6 },
      "BA": { info: "Bosnia and Herzegovina", numIncidents: 27 },
      "HR": { info: "Croatia", numIncidents: 4 },
      "CZ": { info: "Czech Republic", numIncidents: 6 },
      "FI": { info: "Finland", numIncidents: 5 },
      "DE": { info: "Germany", numIncidents: 21 },
      "DK": { info: "Denmark",},

      "GR": { info: "Greece", numIncidents: 22 },
      "HU": { info: "Hungary", numIncidents: 3 },
      "IT": { info: "Italy", numIncidents: 5 },
      "LT": { info: "Lithuania", numIncidents: 1 },
      "MT": { info: "Malta", numIncidents: 1 },
      "MD": { info: "Moldova", numIncidents: 13 },
      "NL": { info: "Netherlands", numIncidents: 10 },
      "MK": { info: "North Macedonia", numIncidents: 1 },
      "PL": { info: "Poland", numIncidents: 32 },
      "PT": { info: "Portugal", numIncidents: 3 },
      "RO": { info: "Romania", numIncidents: 3 },
      "RS": { info: "Serbia", numIncidents: 20 },
      "ES": { info: "Spain", numIncidents: 142 },
      "SE": { info: "Sweden", numIncidents: 19 },
      "TR": { info: "Turkey", numIncidents: 37 },
      "UA": { info: "Ukraine", numIncidents: 110 },
      "GB": { info: "United Kingdom", numIncidents: 31 },
      "CY": { info: "Cyprus", },
      "FR": { info: "France", },
      "IE": { info: "Ireland", },
      "ME": { info: "Montenegro", },
      "NO": { info: "Norway", },
      "CH": { info: "Switzerland", },
      "BY": { info: "Belarus", },
      "IS": { info: "Iceland", },
      "AL": { info: "Albania", },
      "BG": { info: "Bulgaria", },
      "SI": { info: "Slovenia", },
      "EE": { info: "Estonia", },
      "LV": { info: "Latvia", },
      "LI": { info: "Liechtenstein", },
      "SK": { info: "Slovakia", },
      "XK": { info: "Kosovo",}
    },
    "2018":{"XK": { info: "Kosovo",},
        "AM": { info: "Armenia", numIncidents: 21 },
        "AT": { info: "Austria", numIncidents: 4 },
        "BE": { info: "Belgium", },
        "BA": { info: "Bosnia and Herzegovina", numIncidents: 20 },
        "HR": { info: "Croatia", },
        "CZ": { info: "Czech Republic", numIncidents: 3 },
        "FI": { info: "Finland", },
        "DE": { info: "Germany", numIncidents: 32 },
        "DK": { info: "Denmark",},
        "GR": { info: "Greece", numIncidents: 5 },
        "HU": { info: "Hungary", },
        "IT": { info: "Italy", numIncidents: 13 },
        "LT": { info: "Lithuania", numIncidents: 4 },
        "MT": { info: "Malta", },
        "MD": { info: "Moldova", numIncidents: 8 },
        "NL": { info: "Netherlands", numIncidents: 3 },
        "MK": { info: "North Macedonia", },
        "PL": { info: "Poland", numIncidents: 13 },
        "PT": { info: "Portugal", },
        "RO": { info: "Romania", },
        "RS": { info: "Serbia", numIncidents: 20 },
        "ES": { info: "Spain", numIncidents: 131 },
        "SE": { info: "Sweden", numIncidents: 22 },
        "TR": { info: "Turkey", numIncidents: 14 },
        "UA": { info: "Ukraine", numIncidents: 105 },
        "GB": { info: "United Kingdom", numIncidents: 4 },
        "CY": { info: "Cyprus", },
        "FR": { info: "France", },
        "IE": { info: "Ireland", },
        "ME": { info: "Montenegro", numIncidents: 2 },
        "NO": { info: "Norway", },
        "CH": { info: "Switzerland", },
        "BY": { info: "Belarus", numIncidents: 1 },
        "IS": { info: "Iceland", numIncidents: 1 },
        "AL": { info: "Albania", },
        "BG": { info: "Bulgaria", },
        "SI": { info: "Slovenia", },
        "EE": { info: "Estonia", },
        "LV": { info: "Latvia", },
        "LI": { info: "Liechtenstein", },
        "SK": { info: "Slovakia", }
      }, 
      "2019":{      "DK": { info: "Denmark",},
      "XK": { info: "Kosovo",},
        "AM": { info: "Armenia", numIncidents: 22 },
        "AT": { info: "Austria", numIncidents: 3 },
        "BE": { info: "Belgium", },
        "BA": { info: "Bosnia and Herzegovina", numIncidents: 18 },
        "HR": { info: "Croatia", numIncidents: 11 },
        "CZ": { info: "Czech Republic", numIncidents: 7 },
        "FI": { info: "Finland", },
        "DE": { info: "Germany", numIncidents: 34 },
        "GR": { info: "Greece", numIncidents: 24 },
        "HU": { info: "Hungary", numIncidents: 20 },
        "IT": { info: "Italy", numIncidents: 51 },
        "LT": { info: "Lithuania", numIncidents: 7 },
        "MT": { info: "Malta", },
        "MD": { info: "Moldova", numIncidents: 10 },
        "NL": { info: "Netherlands", numIncidents: 11 },
        "MK": { info: "North Macedonia", numIncidents: 6 },
        "PL": { info: "Poland", numIncidents: 47 },
        "PT": { info: "Portugal", numIncidents: 30 },
        "RO": { info: "Romania", },
        "RS": { info: "Serbia", numIncidents: 44 },
        "ES": { info: "Spain", numIncidents: 3 },
        "SE": { info: "Sweden", },
        "TR": { info: "Turkey", numIncidents: 7 },
        "UA": { info: "Ukraine", numIncidents: 114 },
        "GB": { info: "United Kingdom", numIncidents: 3 },
        "CY": { info: "Cyprus", },
        "FR": { info: "France", },
        "IE": { info: "Ireland", numIncidents: 1 },
        "ME": { info: "Montenegro", numIncidents: 2 },
        "NO": { info: "Norway", },
        "CH": { info: "Switzerland", numIncidents: 18 },
        "BY": { info: "Belarus", numIncidents: 2 },
        "IS": { info: "Iceland", },
        "AL": { info: "Albania", numIncidents: 1 },
        "BG": { info: "Bulgaria", numIncidents: 5 },
        "SI": { info: "Slovenia", numIncidents: 4 },
        "EE": { info: "Estonia", },
        "LV": { info: "Latvia", },
        "LI": { info: "Liechtenstein", },
        "SK": { info: "Slovakia", }
      },
      "2020":{      "DK": { info: "Denmark",},
      "XK": { info: "Kosovo",},
        "AM": { info: "Armenia", numIncidents: 25 },
        "AT": { info: "Austria", numIncidents: 3 },
        "BE": { info: "Belgium", },
        "BA": { info: "Bosnia and Herzegovina", numIncidents: 11 },
        "HR": { info: "Croatia", numIncidents: 10 },
        "CZ": { info: "Czech Republic", numIncidents: 9 },
        "FI": { info: "Finland", },
        "DE": { info: "Germany", numIncidents: 27 },
        "GR": { info: "Greece", numIncidents: 18 },
        "HU": { info: "Hungary", numIncidents: 2 },
        "IT": { info: "Italy", numIncidents: 21 },
        "LT": { info: "Lithuania", numIncidents: 3 },
        "MT": { info: "Malta", },
        "MD": { info: "Moldova", numIncidents: 12 },
        "NL": { info: "Netherlands", numIncidents: 2 },
        "MK": { info: "North Macedonia", numIncidents: 4 },
        "PL": { info: "Poland", numIncidents: 66 },
        "PT": { info: "Portugal", numIncidents: 17 },
        "RO": { info: "Romania", },
        "RS": { info: "Serbia", numIncidents: 29 },
        "ES": { info: "Spain", numIncidents: 85 },
        "SE": { info: "Sweden", },
        "TR": { info: "Turkey", numIncidents: 3 },
        "UA": { info: "Ukraine", numIncidents: 136 },
        "GB": { info: "United Kingdom", numIncidents: 6 },
        "CY": { info: "Cyprus", },
        "FR": { info: "France", numIncidents: 3 },
        "IE": { info: "Ireland", numIncidents: 2 },
        "ME": { info: "Montenegro", numIncidents: 1 },
        "NO": { info: "Norway", },
        "CH": { info: "Switzerland", numIncidents: 27 },
        "BY": { info: "Belarus", numIncidents: 1 },
        "IS": { info: "Iceland", },
        "AL": { info: "Albania", },
        "BG": { info: "Bulgaria", numIncidents: 3 },
        "SI": { info: "Slovenia", numIncidents: 1 },
        "EE": { info: "Estonia", },
        "LV": { info: "Latvia", },
        "LI": { info: "Liechtenstein", },
        "SK": { info: "Slovakia", }
      }, 
      "2021":{      "DK": { info: "Denmark",},      
      "XK": { info: "Kosovo",},
        "AM": { info: "Armenia", numIncidents: 59 },
        "AT": { info: "Austria", numIncidents: 4 },
        "BE": { info: "Belgium", },
        "BA": { info: "Bosnia and Herzegovina", numIncidents: 16 },
        "HR": { info: "Croatia", numIncidents: 18 },
        "CZ": { info: "Czech Republic", numIncidents: 29 },
        "FI": { info: "Finland", },
        "DE": { info: "Germany", numIncidents: 36 },
        "GR": { info: "Greece", numIncidents: 36 },
        "HU": { info: "Hungary", numIncidents: 9 },
        "IT": { info: "Italy", numIncidents: 33 },
        "LT": { info: "Lithuania", numIncidents: 9 },
        "MT": { info: "Malta", },
        "MD": { info: "Moldova", numIncidents: 9 },
        "NL": { info: "Netherlands", numIncidents: 2 },
        "MK": { info: "North Macedonia", numIncidents: 6 },
        "PL": { info: "Poland", numIncidents: 77 },
        "PT": { info: "Portugal", numIncidents: 22 },
        "RO": { info: "Romania", numIncidents: 1 },
        "RS": { info: "Serbia", numIncidents: 47 },
        "ES": { info: "Spain", numIncidents: 89 },
        "SE": { info: "Sweden", numIncidents: 9 },
        "TR": { info: "Turkey", numIncidents: 15 },
        "UA": { info: "Ukraine", numIncidents: 190 },
        "GB": { info: "United Kingdom", numIncidents: 10 },
        "CY": { info: "Cyprus", },
        "FR": { info: "France", numIncidents: 6 },
        "IE": { info: "Ireland", numIncidents: 3 },
        "ME": { info: "Montenegro", numIncidents: 1 },
        "NO": { info: "Norway", },
        "CH": { info: "Switzerland", },
        "BY": { info: "Belarus", numIncidents: 1 },
        "IS": { info: "Iceland", numIncidents: 1 },
        "AL": { info: "Albania", numIncidents: 1 },
        "BG": { info: "Bulgaria", numIncidents: 1 },
        "SI": { info: "Slovenia", },
        "EE": { info: "Estonia", },
        "LV": { info: "Latvia", },
        "LI": { info: "Liechtenstein", },
        "SK": { info: "Slovakia", }
      }  , 
      "2022":{      "DK": { info: "Denmark",},
      "XK": { info: "Kosovo",},
        "AM": { info: "Armenia", numIncidents: 72 },
        "AT": { info: "Austria", numIncidents: 1 },
        "BE": { info: "Belgium", },
        "BA": { info: "Bosnia and Herzegovina", numIncidents: 12 },
        "HR": { info: "Croatia", numIncidents: 24 },
        "CZ": { info: "Czech Republic", numIncidents: 14 },
        "FI": { info: "Finland", },
        "DE": { info: "Germany", numIncidents: 45 },
        "GR": { info: "Greece", numIncidents: 13 },
        "HU": { info: "Hungary", },
        "IT": { info: "Italy", numIncidents: 32 },
        "LT": { info: "Lithuania", numIncidents: 8 },
        "MT": { info: "Malta", },
        "MD": { info: "Moldova", numIncidents: 16 },
        "NL": { info: "Netherlands", },
        "MK": { info: "North Macedonia", },
        "PL": { info: "Poland", numIncidents: 88 },
        "PT": { info: "Portugal", numIncidents: 17 },
        "RO": { info: "Romania", },
        "RS": { info: "Serbia", numIncidents: 15 },
        "ES": { info: "Spain", numIncidents: 131 },
        "SE": { info: "Sweden", },
        "TR": { info: "Turkey", numIncidents: 18 },
        "UA": { info: "Ukraine", numIncidents: 229 },
        "GB": { info: "United Kingdom", numIncidents: 16 },
        "CY": { info: "Cyprus", },
        "FR": { info: "France", numIncidents: 9 },
        "IE": { info: "Ireland", numIncidents: 3 },
        "ME": { info: "Montenegro", numIncidents: 2 },
        "NO": { info: "Norway", },
        "CH": { info: "Switzerland", numIncidents: 1 },
        "BY": { info: "Belarus", numIncidents: 4 },
        "IS": { info: "Iceland", },
        "AL": { info: "Albania", },
        "BG": { info: "Bulgaria", },
        "SI": { info: "Slovenia", },
        "EE": { info: "Estonia", },
        "LV": { info: "Latvia", },
        "LI": { info: "Liechtenstein", },
        "SK": { info: "Slovakia", }
      }      
        
      , 
      "2023":{      "DK": { info: "Denmark",},
      "XK": { info: "Kosovo",},
        "AM": { info: "Armenia", numIncidents: 98 },
        "AT": { info: "Austria", numIncidents: 1 },
        "BE": { info: "Belgium", },
        "BA": { info: "Bosnia and Herzegovina", numIncidents: 16 },
        "HR": { info: "Croatia", numIncidents: 35 },
        "CZ": { info: "Czech Republic", numIncidents: 3 },
        "FI": { info: "Finland", },
        "DE": { info: "Germany", numIncidents: 41 },
        "GR": { info: "Greece", numIncidents: 16 },
        "HU": { info: "Hungary", numIncidents: 2 },
        "IT": { info: "Italy", numIncidents: 19 },
        "LT": { info: "Lithuania", numIncidents: 2 },
        "MT": { info: "Malta", },
        "MD": { info: "Moldova", numIncidents: 11 },
        "NL": { info: "Netherlands", numIncidents: 1 },
        "MK": { info: "North Macedonia", numIncidents: 3 },
        "PL": { info: "Poland", numIncidents: 55 },
        "PT": { info: "Portugal", numIncidents: 16 },
        "RO": { info: "Romania", },
        "RS": { info: "Serbia", numIncidents: 20 },
        "ES": { info: "Spain", numIncidents: 106 },
        "SE": { info: "Sweden", numIncidents: 1 },
        "TR": { info: "Turkey", numIncidents: 15 },
        "UA": { info: "Ukraine", numIncidents: 200 },
        "GB": { info: "United Kingdom", numIncidents: 4 },
        "CY": { info: "Cyprus", },
        "FR": { info: "France", numIncidents: 12 },
        "IE": { info: "Ireland", },
        "ME": { info: "Montenegro", numIncidents: 2 },
        "NO": { info: "Norway", },
        "CH": { info: "Switzerland", numIncidents: 3 },
        "BY": { info: "Belarus", numIncidents: 4 },
        "IS": { info: "Iceland", },
        "AL": { info: "Albania", numIncidents: 1 },
        "BG": { info: "Bulgaria", },
        "SI": { info: "Slovenia", numIncidents: 1 },
        "EE": { info: "Estonia", },
        "LV": { info: "Latvia", },
        "LI": { info: "Liechtenstein", },
        "SK": { info: "Slovakia", }
      }
      
   
  };
  

  const yearSlider2 = document.getElementById("yearSlider2");
  const selectedYearText2 = document.getElementById("selectedYear2");
  const countryName2 = document.getElementById("countryName2");
  const Incidents = document.getElementById("numIncidents");
  
  let selectedCountryId = null;
  

  function getColor(numIncidents) {
    if (numIncidents < 1) return "#FFD97A"; 
    if (numIncidents < 2) return "#FFC533";
    if (numIncidents < 5) return "#ffba08";
    if (numIncidents < 10) return "#FAA307";
    if (numIncidents < 15) return "#F48C06";
    if (numIncidents < 20) return "#E85D04";
    if (numIncidents < 25) return "#DC2F02";
    if (numIncidents < 30) return "#D00000";
    if (numIncidents < 35) return "#9D0208";
    if (numIncidents > 40) return "#6A040F";
   
   
  }
  
  // Function to update map colors based on year
  function updateMapColors(year) {
    document.querySelectorAll(".secondMap svg path").forEach((path) => {
      const countryId = path.id;
      if (allYears[year] && allYears[year][countryId]) {
        const numIncidents = allYears[year][countryId].numIncidents;
  
        path.style.fill = getColor(numIncidents);
      } else {
        path.style.fill = "#f5f3f4"; 
      }
    });
  }
  
  function updateCountryInfo(countryId, year) {
    if (!countryId) return;
  
    const countryData = allYears[year]?.[countryId];
  
    if (countryData) {
      countryName2.textContent = `${countryData.info} `;
      Incidents.textContent = `${countryData.numIncidents}`;
    } else {
        Incidents.textContent = "No data available";
    
    }
  }
  
  yearSlider2.addEventListener("input", (e) => {
    const year = e.target.value;
    selectedYearText2.textContent = year;
    updateMapColors(year);
  
    if (selectedCountryId) {
      updateCountryInfo(selectedCountryId, year);
    }
  });
  
  document.querySelectorAll(".secondMap svg path").forEach((path) => {
    path.addEventListener("click", () => {
      selectedCountryId = path.id;
      const year = yearSlider2.value;
      updateCountryInfo(selectedCountryId, year);
    });
  });
  
  updateMapColors(yearSlider2.value);
  